"use strict";(self["webpackChunkcmp"]=self["webpackChunkcmp"]||[]).push([[481],{20481:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"container-form"},[t("el-form",{ref:"qryParamRef",attrs:{model:e.qryParam,size:"small"}},[t("div",{staticClass:"row-container"},[t("div",{staticClass:"left-row"},[t("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:20,type:"flex"}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:e.$t("accountMag.account"),prop:"userCode"}},[t("el-input",{attrs:{placeholder:e.inputPh("accountMag.account"),disabled:""},model:{value:e.qryParam.userCode,callback:function(t){e.$set(e.qryParam,"userCode",t)},expression:"qryParam.userCode"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:e.$t("oper.operName"),prop:"operName"}},[t("el-input",{attrs:{placeholder:e.inputPh("oper.operName")},model:{value:e.qryParam.operName,callback:function(t){e.$set(e.qryParam,"operName",t)},expression:"qryParam.operName"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:e.$t("oper.operDate"),prop:"operDateBegin"}},[t("ct-date-picker",{attrs:{begin:e.qryParam.operDateBegin,end:e.qryParam.operDateEnd},on:{"update:begin":function(t){return e.$set(e.qryParam,"operDateBegin",t)},"update:end":function(t){return e.$set(e.qryParam,"operDateEnd",t)}}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:e.$t("oper.resultCode"),prop:"resultCode"}},[t("ct-select",{attrs:{placeholder:e.selectPh("oper.resultCode"),options:e.resultCodeOptions,filterable:""},model:{value:e.qryParam.resultCode,callback:function(t){e.$set(e.qryParam,"resultCode",t)},expression:"qryParam.resultCode"}})],1)],1),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.powerSearch,expression:"powerSearch"}],attrs:{span:6}},[t("el-form-item",{attrs:{label:e.$t("oper.clientIp"),prop:"clientIp"}},[t("el-input",{attrs:{placeholder:e.inputPh("oper.clientIp")},model:{value:e.qryParam.clientIp,callback:function(t){e.$set(e.qryParam,"clientIp",t)},expression:"qryParam.clientIp"}})],1)],1)],1)],1),t("div",{staticClass:"right-row"},[t("el-form-item",{attrs:{"label-width":"0"}},[t("div",{staticClass:"search-button-group"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.qryCmpParamPage(!1)}}},[e._v(e._s(e.$t("common.query")))]),t("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.reset}},[e._v(e._s(e.$t("common.reset")))]),t("show-more-button",{model:{value:e.powerSearch,callback:function(t){e.powerSearch=t},expression:"powerSearch"}})],1)])],1)])]),t("ct-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData,border:!0,pagination:e.pagination,total:e.total},on:{change:e.tableChange,"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{prop:"operDate",label:e.$t("oper.operDate"),"min-width":"110"}}),t("el-table-column",{attrs:{prop:"operName",label:e.$t("oper.operName"),"show-overflow-tooltip":"","min-width":"110"}}),t("el-table-column",{attrs:{prop:"userCode",label:e.$t("oper.userCode"),"show-overflow-tooltip":"","min-width":"110"}}),t("el-table-column",{attrs:{prop:"clientIp",label:e.$t("oper.clientIp"),"show-overflow-tooltip":"","min-width":"110"}}),t("el-table-column",{attrs:{prop:"traceId",label:e.$t("oper.traceId"),"show-overflow-tooltip":"","min-width":"110"}}),t("el-table-column",{attrs:{prop:"resultCode",label:e.$t("oper.resultCode"),"show-overflow-tooltip":"","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(a){return[0==a.row.resultCode?t("span",[e._v(" "+e._s(e.$t("oper.success"))+" ")]):e._e(),1==a.row.resultCode?t("span",[e._v(" "+e._s(e.$t("oper.fail"))+" ")]):e._e()]}}])})],1)],1)])},o=[],l=a(41090),s=a(45101),i={mixins:[l.Z],data(){return{powerSearch:!1,loading:!1,tableData:[],typeOptions:[],qryParam:{userCode:this.$store.state.user.user.userCode},pagination:{pageIndex:1,pageSize:10},total:0,pickerOptions:{disabledDate(e){return e.getTime()<Date.now()-2592e6||e.getTime()>Date.now()}}}},computed:{resultCodeOptions(){return[{value:0,label:this.$t("oper.success")},{value:"1",label:this.$t("oper.fail")},{value:"",label:this.$t("oper.all")}]}},mounted(){this.qryCmpParamPage(!1)},methods:{async qryCmpParamPage(e){e||(this.pagination.pageIndex=1,this.pagination.pageSize=10);const t={...this.qryParam,...this.pagination};this.loading=!0;const a=await(0,s.Z)("/operLog/queryOperLogPage",t,{method:"post"}).finally((()=>{this.loading=!1}));this.tableData=a.list||[],this.total=a.total},tableChange(e){this.pagination=e,this.qryCmpParamPage(!0)},handleSelectionChange(e){this.multipleSelection=e},selectCust(e){this.selectCustomerVisible=!1,this.qryParam.custId=e.custId,this.qryParam.custName=e.custName},modifyParam(e){e&&this.qryCmpParamPage(!1)},clickDelete(){},reset(){this.$refs.qryParamRef.resetFields(),this.$nextTick((()=>this.qryCmpParamPage(!1)))}}},n=i,p=a(43736),c=(0,p.Z)(n,r,o,!1,null,"6f0ebfc3",null),m=c.exports}}]);
//# sourceMappingURL=481.994e58d1.js.map