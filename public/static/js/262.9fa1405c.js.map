{"version":3,"file":"static/js/262.9fa1405c.js","mappings":"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","sources":["webpack://cmp/./src/views/sysMag/roleMag/modifyRole/index.vue","webpack://cmp/src/views/sysMag/roleMag/modifyRole/index.vue","webpack://cmp/./src/views/sysMag/roleMag/modifyRole/index.vue?ae00","webpack://cmp/./src/views/sysMag/roleMag/modifyRole/index.vue?c093"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('el-scrollbar',{staticClass:\"container-content\"},[_c('div',{staticClass:\"container-content-form\"},[_c('el-form',{ref:\"roleForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.roleForm}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('roleMag.roleName'),\"prop\":\"roleName\"}},[_c('el-input',{attrs:{\"disabled\":_vm.readOnly,\"placeholder\":_vm.inputPh('roleMag.roleName'),\"maxlength\":\"20\"},model:{value:(_vm.roleForm.roleName),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleName\", $$v)},expression:\"roleForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('roleMag.remark'),\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"disabled\":_vm.readOnly,\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":_vm.inputPh('roleMag.remark'),\"maxlength\":\"20\"},model:{value:(_vm.roleForm.remark),callback:function ($$v) {_vm.$set(_vm.roleForm, \"remark\", $$v)},expression:\"roleForm.remark\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('roleMag.menuPriv'),\"prop\":\"isCheckPrivilege\"}},[_c('div',{staticClass:\"menu-power-list\"},[_c('div',{staticClass:\"menu-power-header\"},[_vm._v(\" \"+_vm._s(_vm.$t('roleMag.menuName'))+\" \"),_c('span',{staticClass:\"operation-power\"},[_vm._v(_vm._s(_vm.$t('roleMag.privAction')))])]),_c('div',[_c('div',{staticClass:\"menu-power-body\"},[_c('div',{staticClass:\"check-all\"},[_c('el-checkbox',{attrs:{\"disabled\":_vm.readOnly},on:{\"change\":function($event){return _vm.checkAll()}},model:{value:(_vm.checkedAll),callback:function ($$v) {_vm.checkedAll=$$v},expression:\"checkedAll\"}},[_vm._v(_vm._s(_vm.$t('roleMag.checkAll')))])],1),_vm._l((_vm.menuPower),function(item){return _c('div',{key:item.menuId,staticClass:\"menu-power-wrap\"},[_c('div',{staticClass:\"one-level\",on:{\"click\":function($event){return _vm.showMenu(item)}}},[_c('div',{staticClass:\"level-menu\"},[_c('el-checkbox',{attrs:{\"disabled\":item.disabled || _vm.readOnly},on:{\"change\":function($event){return _vm.handleCheckedMenuChange(1, item)}},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}},[_vm._v(\" \"+_vm._s(_vm.displayName(item))+\" \")])],1),_c('div',{staticClass:\"one-level-expand\"},[_c('i',{class:item.isShow ? 'el-icon-arrow-down' : 'el-icon-arrow-up'})])]),(item.children && item.children.length > 0)?_vm._l((item.children),function(cItem){return _c('div',{key:cItem.menuId},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.isShow),expression:\"item.isShow\"}],staticClass:\"two-level\"},[_c('div',{staticClass:\"level-menu\"},[_c('el-checkbox',{attrs:{\"disabled\":cItem.disabled || _vm.readOnly},on:{\"change\":function($event){return _vm.handleCheckedMenuChange(2, item, cItem)}},model:{value:(cItem.checked),callback:function ($$v) {_vm.$set(cItem, \"checked\", $$v)},expression:\"cItem.checked\"}},[_vm._v(\" \"+_vm._s(_vm.displayName(cItem))+\" \")])],1),_c('div',{staticClass:\"level-power\"},_vm._l((cItem.children),function(cItemPower){return _c('el-checkbox',{key:cItemPower.compId,attrs:{\"disabled\":cItemPower.disabled || _vm.readOnly},on:{\"change\":function($event){return _vm.handleCheckedPowerChange(item, cItem, {}, cItemPower)}},model:{value:(cItemPower.checked),callback:function ($$v) {_vm.$set(cItemPower, \"checked\", $$v)},expression:\"cItemPower.checked\"}},[_vm._v(\" \"+_vm._s(_vm.displayName(cItemPower))+\" \")])}),1)])])}):_vm._e()],2)})],2)])])])],1)],1)]),(!_vm.readOnly)?_c('div',{staticClass:\"container-bottom\"},[_c('span',{staticClass:\"container-bottom-button-group\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateSysRole()}}},[_vm._v(_vm._s(_vm.$t('common.save')))]),_c('el-button',{on:{\"click\":_vm.closeWin}},[_vm._v(_vm._s(_vm.$t('common.cancel')))])],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 修改角色 -->\n<template>\n  <div class=\"container\">\n    <el-scrollbar class=\"container-content\">\n      <div class=\"container-content-form\">\n        <el-form ref=\"roleForm\" :rules=\"rules\" :model=\"roleForm\">\n          <el-form-item :label=\"$t('roleMag.roleName')\" prop=\"roleName\">\n            <el-input\n              v-model=\"roleForm.roleName\"\n              :disabled=\"readOnly\"\n              :placeholder=\"inputPh('roleMag.roleName')\"\n              maxlength=\"20\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item :label=\"$t('roleMag.remark')\" prop=\"remark\">\n            <el-input\n              v-model=\"roleForm.remark\"\n              :disabled=\"readOnly\"\n              type=\"textarea\"\n              rows=\"4\"\n              :placeholder=\"inputPh('roleMag.remark')\"\n              maxlength=\"20\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item :label=\"$t('roleMag.menuPriv')\" prop=\"isCheckPrivilege\">\n            <div class=\"menu-power-list\">\n              <div class=\"menu-power-header\">\n                {{ $t('roleMag.menuName') }}\n                <span class=\"operation-power\">{{ $t('roleMag.privAction') }}</span>\n              </div>\n              <div>\n                <div class=\"menu-power-body\">\n                  <div class=\"check-all\">\n                    <el-checkbox\n                      v-model=\"checkedAll\"\n                      :disabled=\"readOnly\"\n                      @change=\"checkAll()\"\n                      >{{ $t('roleMag.checkAll') }}</el-checkbox\n                    >\n                  </div>\n\n                  <div\n                    v-for=\"item in menuPower\"\n                    :key=\"item.menuId\"\n                    class=\"menu-power-wrap\"\n                  >\n                    <div class=\"one-level\" @click=\"showMenu(item)\">\n                      <!--一级-->\n                      <div class=\"level-menu\">\n                        <el-checkbox\n                          v-model=\"item.checked\"\n                          :disabled=\"item.disabled || readOnly\"\n                          @change=\"handleCheckedMenuChange(1, item)\"\n                        >\n                          {{ displayName(item) }}\n                        </el-checkbox>\n                      </div>\n                      <div class=\"one-level-expand\">\n                        <i\n                          :class=\"item.isShow ? 'el-icon-arrow-down' : 'el-icon-arrow-up'\"\n                        ></i>\n                      </div>\n                    </div>\n                    <template v-if=\"item.children && item.children.length > 0\">\n                      <div v-for=\"cItem in item.children\" :key=\"cItem.menuId\">\n                        <!--二级-->\n                        <div v-show=\"item.isShow\" class=\"two-level\">\n                          <div class=\"level-menu\">\n                            <el-checkbox\n                              v-model=\"cItem.checked\"\n                              :disabled=\"cItem.disabled || readOnly\"\n                              @change=\"handleCheckedMenuChange(2, item, cItem)\"\n                            >\n                              {{ displayName(cItem) }}\n                            </el-checkbox>\n                          </div>\n                          <div class=\"level-power\">\n                            <el-checkbox\n                              v-for=\"cItemPower in cItem.children\"\n                              :key=\"cItemPower.compId\"\n                              v-model=\"cItemPower.checked\"\n                              :disabled=\"cItemPower.disabled || readOnly\"\n                              @change=\"\n                                handleCheckedPowerChange(item, cItem, {}, cItemPower)\n                              \"\n                            >\n                              {{ displayName(cItemPower) }}\n                            </el-checkbox>\n                          </div>\n                        </div>\n                        <!--三级-->\n                        <!-- <template\n                          v-if=\"\n                            cItem.children &&\n                            cItem.children.length > 0 &&\n                            cItem.isLeaf === '0'\n                          \"\n                        >\n                          <div\n                            v-for=\"ccItem in cItem.children\"\n                            :key=\"ccItem.privId\"\n                            class=\"three-level\"\n                          >\n                            <div class=\"level-menu\" style=\"padding-left: 46px\">\n                              <el-checkbox\n                                v-model=\"ccItem.checked\"\n                                :disabled=\"ccItem.disabled\"\n                                @change=\"handleCheckedMenuChange(3, item, cItem, ccItem)\"\n                              >\n                                {{ ccItem.privName }}\n                              </el-checkbox>\n                            </div>\n                            <div class=\"level-power\">\n                              <el-checkbox\n                                v-for=\"ccItemPower in ccItem.children\"\n                                :key=\"ccItemPower.compId\"\n                                v-model=\"ccItemPower.checked\"\n                                :disabled=\"ccItemPower.disabled\"\n                                @change=\"\n                                  handleCheckedPowerChange(\n                                    item,\n                                    cItem,\n                                    ccItem,\n                                    ccItemPower\n                                  )\n                                \"\n                              >\n                                {{ ccItemPower.privName }}\n                              </el-checkbox>\n                            </div>\n                          </div>\n                        </template> -->\n                      </div>\n                    </template>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-scrollbar>\n    <div v-if=\"!readOnly\" class=\"container-bottom\">\n      <span class=\"container-bottom-button-group\">\n        <el-button type=\"primary\" @click=\"updateSysRole()\">{{\n          $t('common.save')\n        }}</el-button>\n        <el-button @click=\"closeWin\">{{ $t('common.cancel') }}</el-button>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport langMixin from '@/mixins/langMixin'\nimport fetch from '@/request/fetch.js'\nexport default {\n  mixins: [langMixin],\n  data() {\n    return {\n      roleForm: {\n        roleName: '',\n        remark: '',\n        privileges: [],\n        isCheckPrivilege: false,\n      },\n      readOnly: this.$route.query.readOnly,\n      roleId: this.$route.query.roleId,\n      rules: {\n        roleName: [{ max: 20, required: true, message: '请输入角色名称' }],\n        isCheckPrivilege: [{ required: true, message: '请选择权限' }],\n      },\n      roleDetail: {},\n      checkedAll: false,\n      menuPower: [],\n      roleMenuNameOption: [],\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.user\n    },\n  },\n  watch: {\n    menuPower: {\n      handler() {\n        // 一级选中菜单\n        let menuIds = this.menuPower.filter((oneMenu) => oneMenu.checked)\n        let btnIds = []\n        this.menuPower.forEach(function (value, key) {\n          const childMenu2 = value.children || []\n          // 二级选中菜单\n          const childMenuIds = childMenu2.filter((twoMenu) => twoMenu.checked)\n          if (childMenuIds.length > 0) {\n            menuIds = menuIds.concat(childMenuIds)\n          }\n          childMenu2.forEach(function (value2, key2) {\n            if (value2.isLeaf === '1') {\n              // 不存在三级\n              // 选中按钮权限\n              const powerIds = (value2.children || []).filter((power) => power.checked)\n              if (powerIds.length > 0) {\n                btnIds = btnIds.concat(powerIds)\n              }\n            } else {\n              const childMenu3 = value2.children || []\n              // 三级选中菜单\n              const childMenuIds = childMenu3.filter((twoMenu) => twoMenu.checked)\n              if (childMenuIds.length > 0) {\n                menuIds = menuIds.concat(childMenuIds)\n              }\n              childMenu3.forEach(function (value3, key3) {\n                const powerIds = (value3.children || []).filter((power) => power.checked)\n                if (powerIds.length > 0) {\n                  btnIds = btnIds.concat(powerIds)\n                }\n              })\n            }\n          })\n        })\n        this.roleForm.isCheckPrivilege = menuIds.length > 0 && btnIds.length > 0\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    this.initRole()\n  },\n  methods: {\n    // 初始方法\n    initRole() {\n      this.querySysRoleDetail()\n    },\n    // 获取角色详情\n    async querySysRoleDetail() {\n      this.loading = true\n      if (this.roleId) {\n        this.roleDetail = await fetch(\n          '/role/queryRoleDetail',\n          { roleId: this.roleId },\n          { method: 'get' }\n        )\n        this.menuPower = this.roleDetail.privileges\n        this.menuPower.forEach((value) => {\n          this.showMenu(value)\n        })\n        this.roleForm = { ...this.roleDetail }\n      } else {\n        const res = await fetch(\n          '/role/queryPrivileges',\n          { menuFlag: 0 },\n          { method: 'get' }\n        )\n        res.forEach((value) => {\n          this.showMenu(value)\n        })\n        this.menuPower = res\n      }\n      this.loading = false\n    },\n    // 更新角色\n    updateSysRole() {\n      this.loading = true\n      this.$refs.roleForm.validate((valid) => {\n        if (valid) {\n          if (!this.menuPower) {\n            this.menuPower = []\n          }\n\n          let menuIds = this.menuPower.filter((oneMenu) => oneMenu.checked)\n          let btnIds = []\n          this.menuPower.forEach(function (value, key) {\n            const childMenu2 = value.children || []\n            // 二级选中菜单\n            const childMenuIds = childMenu2.filter((twoMenu) => twoMenu.checked)\n            if (childMenuIds.length > 0) {\n              menuIds = menuIds.concat(childMenuIds)\n            }\n            childMenu2.forEach(function (value2, key2) {\n              if (value2.isLeaf === '1') {\n                // 不存在三级\n                // 选中按钮权限\n                const powerIds = (value2.children || []).filter((power) => power.checked)\n                if (powerIds.length > 0) {\n                  btnIds = btnIds.concat(powerIds)\n                }\n              } else {\n                const childMenu3 = value2.children || []\n                // 三级选中菜单\n                const childMenuIds = childMenu3.filter((twoMenu) => twoMenu.checked)\n                if (childMenuIds.length > 0) {\n                  menuIds = menuIds.concat(childMenuIds)\n                }\n                childMenu3.forEach(function (value3, key3) {\n                  const powerIds = (value3.children || []).filter(\n                    (power) => power.checked\n                  )\n                  if (powerIds.length > 0) {\n                    btnIds = btnIds.concat(powerIds)\n                  }\n                })\n              }\n            })\n          })\n\n          if (menuIds.length === 0 && btnIds.length === 0) {\n            this.$message({\n              type: 'error',\n              message: this.$t('roleMag.pleasePriv'),\n            })\n            return\n          }\n          this.roleForm.privileges = this.menuPower\n          this.$api.sys.role\n            .updateSysRole(this.roleForm)\n            .then((res) => {\n              this.$message({\n                type: 'success',\n                message: this.roleId\n                  ? this.$t('roleMag.modifySuccess')\n                  : this.$t('roleMag.createSuccess'),\n              })\n              this.closeWin()\n            })\n            .finally(() => {\n              this.loading = false\n            })\n        } else {\n          this.$message({\n            type: 'error',\n            message: this.$t('roleMag.fullFill'),\n          })\n        }\n      })\n    },\n    checkAll() {\n      let flag = false\n      if (this.checkedAll) {\n        flag = true\n      }\n      ;(this.menuPower || []).forEach((menu) => {\n        ;(menu.children || []).forEach((item) => {\n          ;(item.children || []).forEach((item2) => {\n            ;(item2.children || []).forEach((item3) => {\n              item3.checked = flag\n            })\n            item2.checked = flag\n          })\n          item.checked = flag\n        })\n        menu.checked = flag\n      })\n    },\n    // 关闭\n    closeWin() {\n      history.go(-1)\n    },\n    // 点击一级菜单收缩\n    showMenu(item) {\n      if (item.isShow === undefined) {\n        this.$set(item, 'isShow', false)\n      }\n      item.isShow = !item.isShow\n    },\n    // 全选\n    handleCheckedMenuChange(type, one = {}, two = {}, three = {}) {\n      // 多选框\n      let flag = false\n      if (type === 1) {\n        // 一级菜单\n        if (one.checked) {\n          flag = true\n        }\n        ;(one.children || []).forEach((item) => {\n          ;(item.children || []).forEach((item2) => {\n            ;(item2.children || []).forEach((item3) => {\n              item3.checked = flag\n            })\n            item2.checked = flag\n          })\n          item.checked = flag\n        })\n      } else if (type === 2) {\n        // 二级菜单\n        if (two.checked) {\n          flag = true\n          one.checked = true\n        } else {\n          const fat = (one.children || []).filter((x) => x.checked)\n          if (fat.length === 0) {\n            one.checked = false\n          }\n        }\n        ;(two.children || []).forEach((item) => {\n          ;(item.children || []).forEach((item3) => {\n            item3.checked = flag\n          })\n          item.checked = flag\n        })\n      } else {\n        // 三级\n        if (three.checked) {\n          flag = true\n          one.checked = true\n          two.checked = true\n        } else {\n          const fat2 = (two.children || []).filter((x) => x.checked)\n          if (fat2.length === 0) {\n            two.checked = false\n          }\n          const fat1 = (one.children || []).filter((x) => x.checked)\n          if (fat1.length === 0) {\n            one.checked = false\n          }\n        }\n        ;(three.children || []).forEach((item) => {\n          item.checked = flag\n        })\n      }\n    },\n    // 选中控件反选\n    handleCheckedPowerChange(one = {}, two = {}, three = {}, but = {}) {\n      // 多选框\n      if (but.checked) {\n        one.checked = true\n        two.checked = true\n        three.checked = true\n      }\n    },\n    displayName(item) {\n      return this.$i18n.locale === 'zh' ? item.privName : item.enPrivName\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: #efefef;\n\n  &-content {\n    flex: 1;\n    margin: 20px;\n    padding: 20px;\n    background-color: white;\n\n    &-form {\n      width: 60%;\n    }\n  }\n\n  &-bottom {\n    flex-shrink: 0;\n    height: 58px;\n    background-color: white;\n    display: flex;\n    align-items: center;\n    &-button-group {\n      margin-left: auto;\n      margin-right: 24px;\n    }\n  }\n}\n\n.two-level {\n  .level-menu {\n    padding-left: 23px;\n  }\n}\n\n.menu-power-list {\n  clear: both;\n  width: 100%;\n  border: 1px solid #e6e6e6;\n  border-radius: 3px;\n\n  .menu-power-header {\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    background: #f4f5f7;\n    border-radius: 3px 3px 0 0;\n    height: 48px;\n    font-size: 14px;\n    color: #333;\n\n    .menu-name {\n      width: 50%;\n      padding-left: 10px;\n    }\n\n    .operation-power {\n      width: 50%;\n    }\n  }\n\n  .menu-power-body {\n    overflow: auto;\n\n    .check-all {\n      padding: 10px 0;\n      border-bottom: 1px solid #e6e6e6;\n      ::v-deep .el-checkbox {\n        margin-left: 10px;\n      }\n    }\n\n    .menu-power-wrap {\n      border-bottom: 1px solid #e6e6e6;\n\n      .one-level,\n      .two-level,\n      .three-level {\n        display: flex;\n        align-items: start;\n        justify-content: start;\n        padding: 10px 0;\n\n        .level-menu {\n          width: 50%;\n        }\n\n        .level-power {\n          width: 50%;\n        }\n      }\n      .one-level {\n        background-color: white;\n        padding-left: 10px;\n        border-bottom: 1px solid #e6e6e6;\n        &-expand {\n          width: 50%;\n          text-align: right;\n          padding-right: 40px;\n        }\n      }\n      .two-level {\n        background-color: rgba(230, 230, 230, 0.1);\n        padding-left: 10px;\n      }\n\n      .three-level {\n        .level-menu {\n          padding-left: 23px;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1444e6d6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1444e6d6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1444e6d6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","rules","roleForm","$t","readOnly","inputPh","model","value","roleName","callback","$$v","$set","expression","remark","_v","_s","on","$event","checkAll","checkedAll","_l","menuPower","item","key","menuId","showMenu","disabled","handleCheckedMenuChange","checked","displayName","class","isShow","children","length","cItem","directives","name","rawName","cItemPower","compId","handleCheckedPowerChange","_e","updateSysRole","closeWin","staticRenderFns","mixins","langMixin","data","privileges","isCheckPrivilege","$route","query","roleId","max","required","message","roleDetail","roleMenuNameOption","computed","user","$store","state","watch","handler","menuIds","filter","oneMenu","btnIds","forEach","childMenu2","childMenuIds","twoMenu","concat","value2","key2","isLeaf","powerIds","power","childMenu3","value3","key3","deep","mounted","initRole","methods","querySysRoleDetail","loading","fetch","method","res","menuFlag","$refs","validate","valid","$message","type","$api","sys","role","then","finally","flag","menu","item2","item3","history","go","undefined","one","two","three","fat","x","fat2","fat1","but","$i18n","locale","privName","enPrivName","component"],"sourceRoot":""}