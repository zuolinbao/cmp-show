"use strict";(self["webpackChunkcmp"]=self["webpackChunkcmp"]||[]).push([[182],{36182:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var r=function(){var e=this,a=e._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"container-form"},[a("el-form",{ref:"qryParamRef",attrs:{model:e.qryParam,rules:e.paramRules,size:"small"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:e.$t("simMag.addressId"),prop:"addressIds"}},[a("ct-async-select",{attrs:{placeholder:e.selectPh("simMag.addressId"),url:"/prodInst/getSupplierListForQuery",method:"get","label-key":"attrValueName","value-key":"attrValue"},model:{value:e.qryParam.addressIds,callback:function(a){e.$set(e.qryParam,"addressIds",a)},expression:"qryParam.addressIds"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:e.$t("traffic.groupId"),prop:"accNum"}},[a("el-input",{attrs:{type:"number",placeholder:e.inputPh("traffic.groupId")},model:{value:e.qryParam.accNum,callback:function(a){e.$set(e.qryParam,"accNum",a)},expression:"qryParam.accNum"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:e.$t("traffic.billCycle"),prop:"billCycle"}},[a("BillCycleSelect",{model:{value:e.qryParam.billCycle,callback:function(a){e.$set(e.qryParam,"billCycle",a)},expression:"qryParam.billCycle"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("div",{staticClass:"search-button-group"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){return e.loadData(!1)}}},[e._v(e._s(e.$t("common.query")))]),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.reset}},[e._v(e._s(e.$t("common.reset")))])],1)])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"container-table",attrs:{data:e.tableData,border:!0,height:"100%",width:"100%"}},[a("el-table-column",{attrs:{prop:"accNum ",label:e.$t("traffic.groupId"),"show-overflow-tooltip":"",resizable:"","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"cor-blue",on:{click:function(a){return e.toDetail(t.row)}}},[e._v(e._s(t.row.appProdInstDto.accNum))])]}}])}),a("el-table-column",{attrs:{prop:"appCustomerDto.custName",label:e.$t("traffic.useCustName"),"show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{label:e.$t("traffic.memberMag"),"min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"cor-blue el-icon-user",on:{click:function(a){return e.toMemberMag(t.row.appProdInstDto.accNum)}}})]}}])}),a("el-table-column",{attrs:{label:e.$t("traffic.usageQuery"),"min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"cor-blue el-icon-pie-chart",on:{click:function(a){return e.toUsageQuery(t.row.appProdInstDto.accNum)}}})]}}])}),a("el-table-column",{attrs:{prop:"offerName",label:e.$t("traffic.billCycle"),"show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{prop:"offerUsageMb",label:e.$t("traffic.poolSize"),"show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{prop:"billUsageMb",label:e.$t("traffic.avaMonth"),"show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{prop:"overUsageMb",label:e.$t("traffic.remainMonth"),"show-overflow-tooltip":"","min-width":"110"}})],1),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],attrs:{background:"","current-page":e.page.pageIndex,align:"right","page-sizes":[10,20,50,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},l=[],s=(t(70560),t(23060)),o=t(88434),i={mixins:[s.Z],data(){return{loading:!1,page:{pageIndex:1,pageSize:10,total:0},tableData:[],querySupplierIspListRes:[],qryParam:{addressIds:"121215042193",accNum:""}}},computed:{paramRules(){return{addressIds:[{required:!0,trigger:"blur",message:this.selectPh("simMag.addressId")}]}}},methods:{async loadData(e){e||(this.page.pageIndex=1,this.page.pageSize=10);const a={...this.qryParam,addressIds:[this.qryParam.addressIds],...this.page};this.loading=!0;const t=await(0,o.Z)("/flowPool/qryBackFlowPoolList",a,{method:"post"}).finally((()=>{this.loading=!1}));this.tableData=t.result||[],this.page.total=t.rowCount||0},toDetail(e){this.$router.push({path:"/infoQuery/poolDetail",query:{row:JSON.stringify(e)}})},toMemberMag(e){this.$router.push({path:"/infoQuery/backMemberMag",query:{grpNumber:e}})},toUsageQuery(e){this.$router.push({path:"/infoQuery/usageQuery",query:{accNum:e}})},handleSizeChange(e){this.page.pageSize=e,this.page.pageIndex=1,this.loadData(!0)},handleCurrentChange(e){this.page.pageIndex=e,this.loadData(!0)},reset(){this.$refs.qryParamRef.resetFields(),this.$nextTick((()=>this.loadData(!1)))}}},n=i,c=t(1001),u=(0,c.Z)(n,r,l,!1,null,"5586d3b3",null),p=u.exports}}]);
//# sourceMappingURL=182.5aa5a127.js.map