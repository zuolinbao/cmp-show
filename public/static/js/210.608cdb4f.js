"use strict";(self["webpackChunkcmp"]=self["webpackChunkcmp"]||[]).push([[210],{42210:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var a=function(){var e=this,r=e._self._c;return r("div",{staticClass:"container"},[r("div",{staticClass:"container-form"},[r("el-form",{ref:"qryParamRef",attrs:{model:e.qryParam,size:"small"}},[r("div",{staticClass:"row-container"},[r("div",{staticClass:"left-row"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:e.$t("order.orderCode"),prop:"custOrderNbr"}},[r("el-input",{attrs:{placeholder:e.inputPh("order.orderCode")},model:{value:e.qryParam.custOrderNbr,callback:function(r){e.$set(e.qryParam,"custOrderNbr",r)},expression:"qryParam.custOrderNbr"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:e.$t("order.number"),prop:"qryValue"}},[r("el-input",{attrs:{placeholder:"ICCID/MSISDN/IMSI",maxlength:"20"},model:{value:e.qryParam.qryValue,callback:function(r){e.$set(e.qryParam,"qryValue",r)},expression:"qryParam.qryValue"}},[r("ct-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",options:e.qryTypeOptions,placeholder:e.selectPh("order.number"),clearable:!1},slot:"prepend",model:{value:e.qryParam.qryType,callback:function(r){e.$set(e.qryParam,"qryType",r)},expression:"qryParam.qryType"}})],1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:e.$t("order.busType"),prop:"cmpServiceOfferId"}},[r("ct-async-select",{attrs:{placeholder:e.selectPh("order.busType"),url:"/order/getServiceOfferListForQry",filterable:"",method:"get","label-key":"serviceOfferName","value-key":"serviceOfferId"},model:{value:e.qryParam.cmpServiceOfferId,callback:function(r){e.$set(e.qryParam,"cmpServiceOfferId",r)},expression:"qryParam.cmpServiceOfferId"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:e.$t("order.orderStatus"),prop:"statusCds"}},[r("ct-async-select",{attrs:{placeholder:e.selectPh("order.orderStatus"),multiple:"","collapse-tags":"",url:"/order/getOrderStatusListForQuery",method:"get","label-key":"attrValueName","value-key":"attrValue"},model:{value:e.qryParam.statusCds,callback:function(r){e.$set(e.qryParam,"statusCds",r)},expression:"qryParam.statusCds"}})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.powerSearch,expression:"powerSearch"}],staticClass:"more-query-group"},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:e.$t("order.serviceTime"),prop:"minAcceptDate"}},[r("ct-date-picker",{attrs:{begin:e.qryParam.minAcceptDate,end:e.qryParam.maxAcceptDate,"one-month-range":""},on:{"update:begin":function(r){return e.$set(e.qryParam,"minAcceptDate",r)},"update:end":function(r){return e.$set(e.qryParam,"maxAcceptDate",r)}}})],1)],1)],1)],1)],1),r("div",{staticClass:"right-row"},[r("el-form-item",[r("div",{staticClass:"search-button-group"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(r){return e.qryCmpParamPage(!1)}}},[e._v(e._s(e.$t("common.query")))]),r("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.reset}},[e._v(e._s(e.$t("common.reset")))]),r("show-more-button",{model:{value:e.powerSearch,callback:function(r){e.powerSearch=r},expression:"powerSearch"}})],1)])],1)])]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"container-table",attrs:{data:e.tableData,border:!0,"overflow-x":"scroll",height:"100%"}},[r("el-table-column",{attrs:{prop:"custOrderNbr",label:e.$t("order.orderCode"),"show-overflow-tooltip":"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"cor-blue",on:{click:function(r){return e.toDetail(t.row)}}},[e._v(e._s(t.row.custOrderNbr))])]}}])}),r("el-table-column",{attrs:{prop:"useCustName",label:e.$t("order.cust"),"show-overflow-tooltip":"",width:"300"}}),r("el-table-column",{attrs:{prop:"iccid",label:"ICCID","show-overflow-tooltip":"","min-width":"130"}}),r("el-table-column",{attrs:{prop:"imsi",label:"IMSI","show-overflow-tooltip":"","min-width":"120"}}),r("el-table-column",{attrs:{prop:"accNum",label:e.$t("order.accNum"),"show-overflow-tooltip":"","min-width":"110"}}),r("el-table-column",{attrs:{prop:"statusCd",label:e.$t("common.status"),"show-overflow-tooltip":"","min-width":"110",formatter:e.rowFormatter}}),r("el-table-column",{attrs:{prop:"acceptDate",label:e.$t("order.serviceTime"),"show-overflow-tooltip":"","min-width":"110"}}),r("el-table-column",{attrs:{prop:"cmpServiceOfferId",label:e.$t("order.busType"),"show-overflow-tooltip":"","min-width":"110",formatter:e.rowFormatter}}),r("el-table-column",{attrs:{prop:"cmpCreateStaffName",label:e.$t("order.createStaffName"),"show-overflow-tooltip":"","min-width":"110"}})],1),r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],attrs:{background:"","current-page":e.page.pageIndex,align:"right","page-sizes":[10,20,50,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},o=[],l=(t(70560),t(23060)),s=t(88434),i=t(80386),n=t(67866),c={components:{},mixins:[l.Z],data(){return{powerSearch:!1,loading:!1,page:{pageIndex:1,pageSize:10,total:0},tableData:[],qryParam:{custOrderNbr:"",statusCds:[],userName:"",createTimeBegin:"",createTimeEnd:"",qryValue:"",qryType:"iccid"},qryTypeOptions:[{value:"iccid",label:"ICCID"},{value:"msisdn",label:"MSISDN"},{value:"imsi",label:"IMSI"}],pickerOptions:{disabledDate(e){return e.getTime()<Date.now()-2592e6||e.getTime()>Date.now()}}}},mounted(){this.qryCmpParamPage(!1)},methods:{qryCmpParamPage(e){e||(this.page.pageIndex=1,this.page.pageSize=10);const r={...this.qryParam,qryType:this.qryParam.qryValue?this.qryParam.qryType:"",pageInfo:{...this.page}};this.loading=!0,(0,s.Z)("/order/qryOrderListPage",r,{method:"post"}).then((e=>{this.tableData=e.result||[],this.page.total=e.rowCount||0})).finally((()=>{this.loading=!1}))},handleSizeChange(e){this.page.pageSize=e,this.page.pageIndex=1,this.qryCmpParamPage(!0)},handleCurrentChange(e){this.page.pageIndex=e,this.qryCmpParamPage(!0)},toDetail(e){this.$router.push({path:"orderDetail",query:{row:JSON.stringify(e)}})},rowFormatter(e,r,t){return"statusCd"===r.property?i.Z[localStorage.getItem("language")||"zh"].data.find((e=>e.attrValue===t)).attrValueName:"cmpServiceOfferId"===r.property?n.Z[localStorage.getItem("language")||"zh"].data.find((e=>e.serviceOfferNbr===t)).serviceOfferName:void 0},reset(){this.$refs.qryParamRef.resetFields(),this.qryParam.statusCds=[],this.qryParam.qryType="iccid",this.$nextTick((()=>this.qryCmpParamPage(!1)))}}},p=c,m=t(1001),d=(0,m.Z)(p,a,o,!1,null,"08258bac",null),u=d.exports}}]);
//# sourceMappingURL=210.608cdb4f.js.map