{"version":3,"file":"static/js/461.ca717131.js","mappings":"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","sources":["webpack://cmp/./src/views/common/download/index.vue","webpack://cmp/src/views/common/download/index.vue","webpack://cmp/./src/views/common/download/index.vue?472c","webpack://cmp/./src/views/common/download/index.vue?5cfa"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"container-form\"},[_c('el-form',{ref:\"qryParamRef\",attrs:{\"model\":_vm.qryParam,\"size\":\"small\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('download.createTime'),\"prop\":\"startDate\"}},[_c('ct-date-picker',{attrs:{\"begin\":_vm.qryParam.startDate,\"end\":_vm.qryParam.endDate},on:{\"update:begin\":function($event){return _vm.$set(_vm.qryParam, \"startDate\", $event)},\"update:end\":function($event){return _vm.$set(_vm.qryParam, \"endDate\", $event)}}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('download.statusCd'),\"prop\":\"statusCd\"}},[_c('ct-select',{attrs:{\"placeholder\":_vm.selectPh('download.statusCd'),\"options\":_vm.statusCdOptions},model:{value:(_vm.qryParam.statusCd),callback:function ($$v) {_vm.$set(_vm.qryParam, \"statusCd\", $$v)},expression:\"qryParam.statusCd\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('download.busiType'),\"prop\":\"busiType\"}},[_c('ct-async-select',{attrs:{\"url\":\"/batch/getBatchTaskAllBusiType\",\"method\":\"get\",\"label-key\":\"busiTypeName\",\"value-key\":\"busiType\",\"placeholder\":_vm.selectPh('download.busiType')},model:{value:(_vm.qryParam.busiType),callback:function ($$v) {_vm.$set(_vm.qryParam, \"busiType\", $$v)},expression:\"qryParam.busiType\"}})],1)],1),_c('el-col',{attrs:{\"span\":9}},[_c('el-form-item',{attrs:{\"label-width\":\"0\"}},[_c('div',{staticClass:\"search-button-group\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.qryCmpParamPage(false)}}},[_vm._v(_vm._s(_vm.$t('common.query')))]),_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.reset}},[_vm._v(_vm._s(_vm.$t('common.reset')))])],1)])],1)],1),_c('div',{staticClass:\"tool-button-group\"},[_c('el-button',{directives:[{name:\"compPriv\",rawName:\"v-compPriv\",value:(57),expression:\"57\"}],attrs:{\"icon\":\"el-icon-delete\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.deleteBatch}},[_vm._v(_vm._s(_vm.$t('common.batchDelete')))])],1)],1),_c('ct-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",attrs:{\"show-select\":\"\",\"data\":_vm.tableData,\"border\":true,\"pagination\":_vm.pagination,\"total\":_vm.total},on:{\"change\":_vm.tableChange,\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"fileName\",\"label\":_vm.$t('download.fileName'),\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"taskProgress\",\"label\":_vm.$t('download.taskProgress'),\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('span',{style:(_vm.statusStyle(scope.row.statusCd))}),_c('span',[_vm._v(_vm._s(_vm.rowFormatter(scope.row.statusCd)))])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"busiTypeName\",\"label\":_vm.$t('download.busiType'),\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"userCode\",\"label\":_vm.$t('download.userCode'),\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"startDate\",\"label\":_vm.$t('download.startDate'),\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"endDate\",\"label\":_vm.$t('download.endDate'),\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":_vm.$t('download.remark'),\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('common.action'),\"fixed\":\"right\",\"min-width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"action-button-group\"},[_c('el-button',{directives:[{name:\"compPriv\",rawName:\"v-compPriv\",value:(56),expression:\"56\"}],attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.modify(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.download')))]),_c('el-button',{directives:[{name:\"compPriv\",rawName:\"v-compPriv\",value:(57),expression:\"57\"}],staticClass:\"cor-red\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteClick(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.delete')))])],1)]}}])})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"container-form\">\n      <el-form ref=\"qryParamRef\" :model=\"qryParam\" size=\"small\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"5\">\n            <el-form-item :label=\"$t('download.createTime')\" prop=\"startDate\">\n              <ct-date-picker\n                :begin.sync=\"qryParam.startDate\"\n                :end.sync=\"qryParam.endDate\"\n              >\n              </ct-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item :label=\"$t('download.statusCd')\" prop=\"statusCd\">\n              <ct-select\n                v-model=\"qryParam.statusCd\"\n                :placeholder=\"selectPh('download.statusCd')\"\n                :options=\"statusCdOptions\"\n              >\n              </ct-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item :label=\"$t('download.busiType')\" prop=\"busiType\">\n              <ct-async-select\n                v-model=\"qryParam.busiType\"\n                url=\"/batch/getBatchTaskAllBusiType\"\n                method=\"get\"\n                label-key=\"busiTypeName\"\n                value-key=\"busiType\"\n                :placeholder=\"selectPh('download.busiType')\"\n              ></ct-async-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"9\">\n            <el-form-item label-width=\"0\">\n              <div class=\"search-button-group\">\n                <el-button\n                  type=\"primary\"\n                  icon=\"el-icon-search\"\n                  @click=\"qryCmpParamPage(false)\"\n                  >{{ $t('common.query') }}</el-button\n                >\n                <el-button icon=\"el-icon-refresh\" @click=\"reset\">{{\n                  $t('common.reset')\n                }}</el-button>\n              </div>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <div class=\"tool-button-group\">\n          <el-button\n            v-compPriv=\"57\"\n            icon=\"el-icon-delete\"\n            type=\"danger\"\n            plain\n            @click=\"deleteBatch\"\n            >{{ $t('common.batchDelete') }}</el-button\n          >\n        </div>\n      </el-form>\n      <ct-table\n        ref=\"table\"\n        v-loading=\"loading\"\n        show-select\n        :data=\"tableData\"\n        :border=\"true\"\n        :pagination=\"pagination\"\n        :total=\"total\"\n        @change=\"tableChange\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column prop=\"fileName\" :label=\"$t('download.fileName')\" min-width=\"110\">\n        </el-table-column>\n        <el-table-column\n          prop=\"taskProgress\"\n          :label=\"$t('download.taskProgress')\"\n          show-overflow-tooltip\n          min-width=\"110\"\n        >\n          <template slot-scope=\"scope\">\n            <div>\n              <!-- <el-progress\n                type=\"circle\"\n                :percentage=\"scope.row.taskProgress\"\n                :width=\"16\"\n                :stroke-width=\"3\"\n                :show-text=\"false\"\n                :status=\"scope.row.taskStatus\"\n              ></el-progress> -->\n              <span :style=\"statusStyle(scope.row.statusCd)\"></span>\n              <span>{{ rowFormatter(scope.row.statusCd) }}</span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"busiTypeName\"\n          :label=\"$t('download.busiType')\"\n          show-overflow-tooltip\n          min-width=\"110\"\n        ></el-table-column>\n        <el-table-column\n          prop=\"userCode\"\n          :label=\"$t('download.userCode')\"\n          show-overflow-tooltip\n          min-width=\"110\"\n        ></el-table-column>\n        <el-table-column\n          prop=\"startDate\"\n          :label=\"$t('download.startDate')\"\n          show-overflow-tooltip\n          min-width=\"110\"\n        >\n        </el-table-column>\n        <el-table-column\n          prop=\"endDate\"\n          :label=\"$t('download.endDate')\"\n          show-overflow-tooltip\n          min-width=\"110\"\n        >\n        </el-table-column>\n        <el-table-column\n          prop=\"remark\"\n          :label=\"$t('download.remark')\"\n          show-overflow-tooltip\n          min-width=\"110\"\n        ></el-table-column>\n        <el-table-column :label=\"$t('common.action')\" fixed=\"right\" min-width=\"110\">\n          <template slot-scope=\"scope\">\n            <div class=\"action-button-group\">\n              <el-button v-compPriv=\"56\" type=\"text\" @click=\"modify(scope.row)\">{{\n                $t('common.download')\n              }}</el-button>\n              <el-button\n                v-compPriv=\"57\"\n                type=\"text\"\n                class=\"cor-red\"\n                @click=\"deleteClick(scope.row)\"\n                >{{ $t('common.delete') }}</el-button\n              >\n            </div>\n          </template>\n        </el-table-column>\n      </ct-table>\n    </div>\n  </div>\n</template>\n<script>\nimport langMixin from '@/mixins/langMixin'\nimport fetch from '@/request/fetch'\nexport default {\n  mixins: [langMixin],\n  data() {\n    return {\n      powerSearch: false,\n      loading: false,\n      tableData: [],\n      modifyTitle: '',\n      modifyParamDialogVisible: false,\n      selectUserVisible: false,\n      selectCustomerVisible: false,\n      typeOptions: [],\n      qryParam: {\n        statusCd: '',\n        busiType: '',\n        startDate: '',\n        endDate: '',\n      },\n      pagination: {\n        pageIndex: 1,\n        pageSize: 10,\n      },\n      saleList: [],\n      modifyForm: {},\n      total: 0,\n      multipleSelection: [],\n      pickerOptions: {\n        disabledDate(time) {\n          return (\n            time.getTime() < Date.now() - 30 * 24 * 60 * 60 * 1000 ||\n            time.getTime() > Date.now()\n          )\n        },\n      },\n    }\n  },\n  computed: {\n    statusCdOptions() {\n      return [\n        {\n          label: this.$t('download.statusCdAll'),\n          value: '',\n        },\n        {\n          label: this.$t('download.statusCd1000'),\n          value: '1000',\n        },\n        {\n          label: this.$t('download.statusCd1001'),\n          value: '1001',\n        },\n        {\n          label: this.$t('download.statusCd1002'),\n          value: '1002',\n        },\n        {\n          label: this.$t('download.statusCd9999'),\n          value: '9999',\n        },\n      ]\n    },\n  },\n  mounted() {\n    this.qryCmpParamPage(false)\n  },\n  methods: {\n    rowFormatter(statusCd) {\n      return this.statusCdOptions.find((item) => item.value === statusCd).label\n    },\n    statusStyle(statusCd) {\n      let backgroundColor = '#333'\n      if (statusCd === '1001') {\n        backgroundColor = '#52e539'\n      } else if (statusCd === '9999') {\n        backgroundColor = 'red'\n      }\n      return {\n        width: '6px',\n        height: '6px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        backgroundColor,\n        marginRight: '5px',\n      }\n    },\n    async qryCmpParamPage(pageChangeFlag) {\n      this.loading = true\n      if (!pageChangeFlag) {\n        this.pagination.pageIndex = 1\n        this.pagination.pageSize = 10\n      }\n      const params = {\n        ...this.qryParam,\n        ...this.pagination,\n        rowNum: this.pagination.pageSize,\n      }\n      const res = await fetch('/batch/qryBatchList', params, {\n        method: 'post',\n      }).finally(() => (this.loading = false))\n      const result = []\n      if (res.list) {\n        for (const resData of res.list) {\n          resData.beginDate = resData.createDate\n          if (\n            resData.statusCd === '1001' ||\n            resData.statusCd === '9999' ||\n            resData === '1002'\n          ) {\n            resData.endDate = resData.statusDate\n          } else {\n            resData.endDate = '-'\n          }\n          // 正则获取文件名\n          const fileArr = resData.resultFile.match('.+/(.+)$')\n          if (fileArr !== null) {\n            resData.fileName = fileArr[1]\n          }\n          // if (resData.statusCd === '1001') {\n          //   resData.taskStatus = 'success'\n          //   resData.statusText = this.$t('download.statusCd1001')\n          //   resData.taskProgress = 100\n          // } else if (resData.statusCd === '9999') {\n          //   resData.taskStatus = 'exception'\n          //   resData.statusText = this.$t('download.statusCd9999')\n          //   resData.taskProgress = 100\n          // } else if (resData.statusCd === '1000') {\n          //   resData.statusText = this.$t('download.statusCd1000')\n          // } else {\n          //   resData.taskProgress = 50\n          //   resData.statusText = this.$t('download.statusCd1002')\n          // }\n          result.push(resData)\n        }\n      }\n\n      this.tableData = result || []\n      this.total = res.total\n    },\n    tableChange(pagination) {\n      this.pagination = pagination\n      this.qryCmpParamPage(true)\n    },\n    modify(row) {\n      if (row.statusCd !== '1001') {\n        this.$message({\n          type: 'warning',\n          message: this.$t('download.unfinishedTip'),\n        })\n      } else {\n        const fileName = row.fileName\n        const url = row.resultFile\n        window.open(\n          `${process.env.VUE_APP_REQUEST_BASE_API}/batch/downloadFile?filePath=` +\n            url +\n            `&fileName=` +\n            fileName,\n          '_self'\n        )\n      }\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n    modifyParam(value) {\n      if (value) {\n        this.modifyForm = null\n        this.qryCmpParamPage(false)\n      }\n    },\n    async deleteBatch() {\n      const params = this.multipleSelection.map((row) => {\n        return {\n          queryInstId: row.queryInstId,\n          shard: row.shard,\n        }\n      })\n      if (params.length === 0) {\n        this.$message({\n          type: 'warning',\n          message: this.$t('download.selectOne'),\n        })\n        return\n      }\n\n      this.$confirm(this.$t('download.batchDeleteAsk'), {\n        confirmButtonText: this.$t('common.yes'),\n        cancelButtonText: this.$t('common.no'),\n        type: 'warning',\n      }).then(async () => {\n        await fetch('/batch/deleteArrayLists', params, {\n          method: 'post',\n        })\n        this.$message.success(this.$t('common.deleteSuccess'))\n        this.qryCmpParamPage(false)\n      })\n    },\n    deleteClick(row) {\n      this.$confirm(this.$t('download.deleteOneAsk'), {\n        confirmButtonText: this.$t('common.yes'),\n        cancelButtonText: this.$t('common.no'),\n        type: 'warning',\n      }).then(async () => {\n        const param = {\n          queryInstId: row.queryInstId,\n          shard: row.shard,\n        }\n        await fetch('/batch/deleteBatchList', param, {\n          method: 'get',\n        })\n        this.$message.success(this.$t('common.deleteSuccess'))\n        this.qryCmpParamPage(false)\n      })\n    },\n    reset() {\n      this.$refs.qryParamRef.resetFields()\n      this.$nextTick(() => this.qryCmpParamPage(false))\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '@/assets/css/page.scss';\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=27fcf0ff&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=27fcf0ff&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27fcf0ff\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","qryParam","$t","startDate","endDate","on","$event","$set","selectPh","statusCdOptions","model","value","statusCd","callback","$$v","expression","busiType","qryCmpParamPage","_v","_s","reset","directives","name","rawName","deleteBatch","loading","tableData","pagination","total","tableChange","handleSelectionChange","scopedSlots","_u","key","fn","scope","style","statusStyle","row","rowFormatter","modify","deleteClick","staticRenderFns","mixins","langMixin","data","powerSearch","modifyTitle","modifyParamDialogVisible","selectUserVisible","selectCustomerVisible","typeOptions","pageIndex","pageSize","saleList","modifyForm","multipleSelection","pickerOptions","disabledDate","time","getTime","Date","now","computed","label","mounted","methods","find","item","backgroundColor","width","height","borderRadius","display","marginRight","pageChangeFlag","params","rowNum","res","fetch","method","finally","result","list","resData","beginDate","createDate","statusDate","fileArr","resultFile","match","fileName","push","$message","type","message","url","window","open","val","modifyParam","map","queryInstId","shard","length","$confirm","confirmButtonText","cancelButtonText","then","success","param","$refs","qryParamRef","resetFields","$nextTick","component"],"sourceRoot":""}