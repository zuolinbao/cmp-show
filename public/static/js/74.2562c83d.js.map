{"version":3,"file":"static/js/74.2562c83d.js","mappings":"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","sources":["webpack://cmp/./src/views/sysMag/sysAnn/dialogs/DetailDialog.vue","webpack://cmp/src/views/sysMag/sysAnn/dialogs/DetailDialog.vue","webpack://cmp/./src/views/sysMag/sysAnn/dialogs/DetailDialog.vue?87bc","webpack://cmp/./src/views/sysMag/sysAnn/dialogs/DetailDialog.vue?85cf","webpack://cmp/./src/views/sysMag/sysAnn/index.vue","webpack://cmp/src/views/sysMag/sysAnn/index.vue","webpack://cmp/./src/views/sysMag/sysAnn/index.vue?f978","webpack://cmp/./src/views/sysMag/sysAnn/index.vue?a762"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.$t('ann.detail'),\"visible\":_vm.v,\"close-on-click-modal\":false,\"width\":\"840px\",\"top\":\"6%\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.v=$event}}},[_c('div',{staticClass:\"ann-title\"},[_vm._v(_vm._s(_vm.detail.bulletinTitle))]),_c('div',{staticClass:\"ann-time\"},[_c('span',[_vm._v(_vm._s(_vm.$t('ann.createDate') + _vm.detail.publishDate))]),_c('span',[_vm._v(_vm._s(_vm.$t('ann.updateDate') + _vm.detail.updateTime))])]),_c('div',{staticClass:\"ann-content\",domProps:{\"innerHTML\":_vm._s(_vm.detail.bulletinContent)}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.clickOk}},[_vm._v(_vm._s(_vm.$t('ann.back')))])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-v-html -->\n<template>\n  <div>\n    <el-dialog\n      :title=\"$t('ann.detail')\"\n      :visible.sync=\"v\"\n      :close-on-click-modal=\"false\"\n      width=\"840px\"\n      top=\"6%\"\n      append-to-body\n    >\n      <div class=\"ann-title\">{{ detail.bulletinTitle }}</div>\n      <div class=\"ann-time\">\n        <span>{{ $t('ann.createDate') + detail.publishDate }}</span>\n        <span>{{ $t('ann.updateDate') + detail.updateTime }}</span>\n      </div>\n      <div class=\"ann-content\" v-html=\"detail.bulletinContent\"></div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" size=\"small\" @click=\"clickOk\">{{\n          $t('ann.back')\n        }}</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport fetch from '@/request/fetch'\nexport default {\n  components: {},\n  props: {\n    visible: {\n      type: Boolean,\n      default: false,\n    },\n    bulletinId: {\n      type: [Number, String],\n      default: '',\n    },\n    readIt: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      detail: {},\n    }\n  },\n  computed: {\n    v: {\n      get: function () {\n        return this.visible\n      },\n      set: function (value) {\n        this.$emit('update:visible', value)\n      },\n    },\n  },\n  watch: {\n    async visible(val) {\n      if (!val) {\n        this.detail = {}\n        if (this.readIt) {\n          this.read()\n        }\n      }\n      this.detail = await fetch(\n        '/bulletin/queryBulletinInfo',\n        { bulletinId: this.bulletinId },\n        {\n          method: 'get',\n        }\n      )\n    },\n  },\n  methods: {\n    clickOk() {\n      this.v = false\n    },\n    async read() {\n      await fetch('/bulletinRcvObjRel/updateBulletinRcvObjStatus', [this.bulletinId], {\n        method: 'post',\n      })\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.ann-title {\n  font-weight: 500;\n  font-size: 20px;\n  color: #333;\n  margin-top: 20px;\n}\n.ann-time {\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 14px;\n  color: #999;\n  margin-top: 20px;\n  margin-bottom: 30px;\n  span:first-child {\n    margin-right: 30px;\n  }\n}\n.ann-content {\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 32px;\n  color: #333;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DetailDialog.vue?vue&type=template&id=1824ab12&scoped=true\"\nimport script from \"./DetailDialog.vue?vue&type=script&lang=js\"\nexport * from \"./DetailDialog.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailDialog.vue?vue&type=style&index=0&id=1824ab12&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1824ab12\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"container-form\"},[_c('el-form',{ref:\"qryParamRef\",attrs:{\"model\":_vm.qryParam,\"size\":\"small\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('ann.bulletinType'),\"prop\":\"bulletinType\"}},[_c('ct-select',{attrs:{\"placeholder\":_vm.selectPh('ann.bulletinType'),\"options\":_vm.bulletinTypes,\"disabled\":\"\"},model:{value:(_vm.qryParam.busiType),callback:function ($$v) {_vm.$set(_vm.qryParam, \"busiType\", $$v)},expression:\"qryParam.busiType\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('ann.type'),\"prop\":\"type\"}},[_c('ct-select',{attrs:{\"placeholder\":_vm.selectPh('ann.type'),\"options\":_vm.statusCds},model:{value:(_vm.qryParam.type),callback:function ($$v) {_vm.$set(_vm.qryParam, \"type\", $$v)},expression:\"qryParam.type\"}})],1)],1),_c('el-col',{attrs:{\"span\":14}},[_c('el-form-item',{attrs:{\"label-width\":\"0\"}},[_c('div',{staticClass:\"search-button-group\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.qryCmpParamPage(false)}}},[_vm._v(_vm._s(_vm.$t('common.query')))]),_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.reset}},[_vm._v(_vm._s(_vm.$t('common.reset')))])],1)])],1)],1),_c('div',{staticClass:\"tool-button-group\"},[_c('el-button',{attrs:{\"disabled\":_vm.multipleSelection.length == 0,\"icon\":\"el-icon-collection\"},on:{\"click\":_vm.read}},[_vm._v(_vm._s(_vm.$t('ann.markRead')))]),_c('el-button',{attrs:{\"icon\":\"el-icon-brush\"},on:{\"click\":_vm.readAll}},[_vm._v(_vm._s(_vm.$t('ann.markAllRead')))])],1)],1),_c('ct-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",attrs:{\"show-select\":\"\",\"data\":_vm.tableData,\"border\":true,\"pagination\":_vm.pagination,\"total\":_vm.total},on:{\"table-change\":_vm.tableChange,\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"bulletinTitle\",\"label\":_vm.$t('ann.bulletinTitle')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticClass:\"cor-blue\",on:{\"click\":function($event){return _vm.toDetail(scope.row)}}},[_vm._v(_vm._s(scope.row.bulletinTitle))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"bulletinType\",\"label\":_vm.$t('ann.bulletinTitle'),\"formatter\":_vm.formatBulletinType,\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":_vm.$t('ann.type'),\"show-overflow-tooltip\":\"\",\"formatter\":_vm.formatType}}),_c('el-table-column',{attrs:{\"prop\":\"publishDate\",\"label\":_vm.$t('ann.publishDate'),\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"expDate\",\"label\":_vm.$t('ann.expDate'),\"show-overflow-tooltip\":\"\"}})],1)],1),_c('DetailDialog',{attrs:{\"visible\":_vm.dialogVisible,\"modify-form\":_vm.modifyForm,\"bulletin-id\":_vm.bulletinId},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"container-form\">\n      <el-form ref=\"qryParamRef\" :model=\"qryParam\" size=\"small\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"5\">\n            <el-form-item :label=\"$t('ann.bulletinType')\" prop=\"bulletinType\">\n              <ct-select\n                v-model=\"qryParam.busiType\"\n                :placeholder=\"selectPh('ann.bulletinType')\"\n                :options=\"bulletinTypes\"\n                disabled\n              >\n              </ct-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item :label=\"$t('ann.type')\" prop=\"type\">\n              <ct-select\n                v-model=\"qryParam.type\"\n                :placeholder=\"selectPh('ann.type')\"\n                :options=\"statusCds\"\n              >\n              </ct-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"14\">\n            <el-form-item label-width=\"0\">\n              <div class=\"search-button-group\">\n                <el-button\n                  type=\"primary\"\n                  icon=\"el-icon-search\"\n                  @click=\"qryCmpParamPage(false)\"\n                  >{{ $t('common.query') }}</el-button\n                >\n                <el-button icon=\"el-icon-refresh\" @click=\"reset\">{{\n                  $t('common.reset')\n                }}</el-button>\n              </div>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <div class=\"tool-button-group\">\n          <el-button\n            :disabled=\"multipleSelection.length == 0\"\n            icon=\"el-icon-collection\"\n            @click=\"read\"\n            >{{ $t('ann.markRead') }}</el-button\n          >\n          <el-button icon=\"el-icon-brush\" @click=\"readAll\">{{\n            $t('ann.markAllRead')\n          }}</el-button>\n        </div>\n      </el-form>\n      <ct-table\n        ref=\"table\"\n        v-loading=\"loading\"\n        show-select\n        :data=\"tableData\"\n        :border=\"true\"\n        :pagination=\"pagination\"\n        :total=\"total\"\n        @table-change=\"tableChange\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column prop=\"bulletinTitle\" :label=\"$t('ann.bulletinTitle')\">\n          <template slot-scope=\"scope\">\n            <a class=\"cor-blue\" @click=\"toDetail(scope.row)\">{{\n              scope.row.bulletinTitle\n            }}</a>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"bulletinType\"\n          :label=\"$t('ann.bulletinTitle')\"\n          :formatter=\"formatBulletinType\"\n          show-overflow-tooltip\n        ></el-table-column>\n        <el-table-column\n          prop=\"type\"\n          :label=\"$t('ann.type')\"\n          show-overflow-tooltip\n          :formatter=\"formatType\"\n        >\n        </el-table-column>\n        <el-table-column\n          prop=\"publishDate\"\n          :label=\"$t('ann.publishDate')\"\n          show-overflow-tooltip\n        >\n        </el-table-column>\n        <el-table-column prop=\"expDate\" :label=\"$t('ann.expDate')\" show-overflow-tooltip>\n        </el-table-column>\n      </ct-table>\n    </div>\n    <DetailDialog\n      :visible.sync=\"dialogVisible\"\n      :modify-form=\"modifyForm\"\n      :bulletin-id=\"bulletinId\"\n    ></DetailDialog>\n  </div>\n</template>\n<script>\nimport langMixin from '@/mixins/langMixin'\nimport fetch from '@/request/fetch'\nimport DetailDialog from './dialogs/DetailDialog.vue'\nexport default {\n  components: { DetailDialog },\n  filters: {\n    formatStatusCd: function (val) {\n      switch (val) {\n        case 'his':\n          return this.$t('ann.read')\n        case 'now':\n          return this.$t('ann.unread')\n        default:\n          return this.$t('ann.unknown')\n      }\n    },\n  },\n  mixins: [langMixin],\n  data() {\n    return {\n      powerSearch: false,\n      loading: false,\n      modifyForm: {},\n      dialogVisible: false,\n      bulletinId: '',\n      tableData: [],\n      typeOptions: [],\n      qryParam: {\n        type: '',\n        busiType: 0,\n      },\n      pagination: {\n        pageIndex: 1,\n        pageSize: 10,\n      },\n      total: 0,\n      multipleSelection: [],\n    }\n  },\n  computed: {\n    statusCds() {\n      return [\n        { value: 'his', label: this.$t('ann.read') },\n        { value: 'now', label: this.$t('ann.unread') },\n      ]\n    },\n    bulletinTypes() {\n      return [{ value: 0, label: this.$t('ann.bulletinTypeDefault') }]\n    },\n  },\n  mounted() {\n    this.qryCmpParamPage(false)\n  },\n  methods: {\n    async qryCmpParamPage(pageChangeFlag) {\n      if (!pageChangeFlag) {\n        this.pagination.pageIndex = 1\n        this.pagination.pageSize = 10\n      }\n      const param = {\n        ...this.qryParam,\n        ...this.pagination,\n      }\n      this.loading = true\n\n      const res = await fetch('/bulletin/queryBulletinPageListByType', param, {\n        method: 'post',\n      }).finally(() => {\n        this.loading = false\n      })\n      this.tableData = res.list\n      this.page.total = res.total\n    },\n    tableChange(pagination) {\n      this.pagination = pagination\n      this.qryCmpParamPage(false)\n    },\n    toDetail(row) {\n      this.dialogVisible = true\n      this.modifyForm = row\n      this.bulletinId = row.bulletinId\n    },\n    modify(rows) {\n      if (rows.taskStatus !== 3) {\n        this.$message({\n          type: 'warning',\n          message: '此任务未处理完成，无法下载！',\n        })\n      } else {\n        const fileName = rows.fileName\n        const url = rows.resultFile\n        window.open(\n          `/batch/downloadFile?filePath=` + url + `&fileName=` + fileName,\n          '_self'\n        )\n      }\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n    async read() {\n      const params = this.multipleSelection.map((item) => item.bulletinId)\n      if (params.length === 0) {\n        return\n      }\n      await fetch('/bulletinRcvObjRel/updateBulletinRcvObjStatus', params, {\n        method: 'post',\n      })\n      this.$message.success(this.$t('ann.setSuccess'))\n      this.qryCmpParamPage(false)\n    },\n    async readAll() {\n      await fetch(\n        '/bulletinRcvObjRel/updateAllBulletinRcvObjStatus',\n        {},\n        {\n          method: 'post',\n        }\n      )\n      this.$message.success(this.$t('ann.setSuccess'))\n      this.qryCmpParamPage(false)\n    },\n    reset() {\n      this.$refs.qryParamRef.resetFields()\n      this.qryCmpParamPage(false)\n    },\n    formatBulletinType(row, column) {\n      return this.bulletinTypes.find((item) => {\n        return item.value === row.bulletinType\n      }).label\n    },\n    formatType(row, column) {\n      return row.brorStatusCd === '1100' ? this.$t('ann.read') : this.$t('ann.unread')\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '@/assets/css/page.scss';\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=51f847bb&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=51f847bb&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51f847bb\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","$t","v","on","$event","staticClass","_v","_s","detail","bulletinTitle","publishDate","updateTime","domProps","bulletinContent","slot","clickOk","staticRenderFns","components","props","visible","type","Boolean","default","bulletinId","Number","String","readIt","data","computed","get","set","value","$emit","watch","val","read","fetch","method","methods","component","ref","qryParam","selectPh","bulletinTypes","model","busiType","callback","$$v","$set","expression","statusCds","qryCmpParamPage","reset","multipleSelection","length","readAll","directives","name","rawName","loading","tableData","pagination","total","tableChange","handleSelectionChange","scopedSlots","_u","key","fn","scope","toDetail","row","formatBulletinType","formatType","dialogVisible","modifyForm","DetailDialog","filters","formatStatusCd","mixins","langMixin","powerSearch","typeOptions","pageIndex","pageSize","label","mounted","pageChangeFlag","param","res","finally","list","page","modify","rows","taskStatus","$message","message","fileName","url","resultFile","window","open","params","map","item","success","$refs","qryParamRef","resetFields","column","find","bulletinType","brorStatusCd"],"sourceRoot":""}