"use strict";(self["webpackChunkcmp"]=self["webpackChunkcmp"]||[]).push([[90],{74597:function(t,e,a){a.d(e,{Z:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("el-dropdown",{staticClass:"fr",attrs:{"hide-on-click":!0,size:t.size,trigger:"click"}},[e("el-button",{attrs:{plain:"",size:t.size,disabled:t.disabled}},[t._v(" "+t._s(t.$t("common.export"))),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.exportCsv.apply(null,arguments)}}},[t._v("CSV")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.exportTxt.apply(null,arguments)}}},[t._v("TXT")])],1)],1)},l=[],i=(a(70560),a(45101)),o={components:{},props:{queryIdList:{type:Array,default:()=>[]},size:{type:String,default:""},disabled:{type:Boolean,default:!1},params:{type:Object,default:()=>({})},sheetName:{type:String,default:null},queryId:{type:[Number,String],default:""},showProd:{type:String,default:""}},data(){return{}},computed:{},methods:{exportCsv(){this.exprt("csv")},exportTxt(){this.exprt("txt")},async exprt(t,e){const a={queryId:this.queryId,fileType:t,...this.params};let s=[];s="2040"===this.queryId?await(0,i.Z)("/prodInst/exportSimCardList",a,{method:"post"}):await(0,i.Z)("/batch/export",a,{method:"get"}),s&&s.length>0?this.errAlert(s):this.success()},success(){const t=this,e=this.$createElement;this.$msgbox({title:this.$t("batchUpload.actionSuccess"),type:"success",center:!0,message:e("p",{class:"fs12"},[this.$t("batchUpload.task"),e("a",{class:"cor-blue",on:{click:t.viewProgress}},this.$t("batchUpload.process"))]),showCancelButton:!1,confirmButtonText:this.$t("batchUpload.know")}).then((()=>{})).catch((()=>{}))},viewProgress(){this.$msgbox.close(),this.$router.push("/common/download")},errAlert(t){const e=this.$createElement,a=e("div",{class:"error-msg-box"},[...function(){const a=[];return t.forEach((t=>{a.push(e("p",{class:"cor-red"},t))})),a}()]);this.$msgbox({title:this.$t("batchUpload.exportFail"),type:"warning",center:!0,message:a,showCancelButton:!1,confirmButtonText:this.$t("batchUpload.know")}).then((()=>{})).catch((()=>{}))}}},r=o,n=a(43736),c=(0,n.Z)(r,s,l,!1,null,"a1e0ae6e",null),p=c.exports},51122:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.title,visible:t.v,"append-to-body":!0,width:"840px",top:"10vh"},on:{"update:visible":function(e){t.v=e}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":t.$t("batchUpload.uploading")}},[e("p",{staticClass:"download-tip"},[t._v(" "+t._s(t.$t("batchUpload.please"))),e("a",{staticClass:"cor-blue",attrs:{target:"_self"},on:{click:t.downloadTpl}},[t._v(t._s(t.$t("batchUpload.downloadTpl")))]),t._v(t._s(t.$t("batchUpload.please2"))+" ")]),e("div",{staticClass:"tip"},[e("i",{staticClass:"icon-zhuyi",staticStyle:{color:"orange"}}),e("p",{staticClass:"upload-tip"},[t._v(" "+t._s(t.$t("batchUpload.warmTip"))),e("br"),t._t("tip")],2)]),e("div",{staticClass:"upload-box"},[e("el-upload",{ref:"upload",staticClass:"upload-wrap",attrs:{drag:"",accept:".xls,.xlsx",action:t.action,data:t.extraParam,"show-file-list":!0,multiple:!1,"auto-upload":!1,"file-list":t.fileList,"on-change":t.handlerChange,"on-remove":t.handleRemove,"on-progress":t.handlerProgress,"on-success":t.handlerSuccess,"on-error":t.handlerError,"before-upload":t.beforeUpload}},[e("div",{staticClass:"upload_file_choose"},[e("i",{staticClass:"el-icon-upload cor-blue"}),e("div",{staticClass:"upload_file_choose_text"},[t._v(" "+t._s(t.$t("batchUpload.drag1"))),e("em",[t._v(t._s(t.$t("batchUpload.drag2")))]),e("br"),e("span",{staticClass:"support-tip"},[t._v(t._s(t.supportFormat))])])])])],1),e("div",{staticClass:"download-template"},[e("el-button",{attrs:{type:"text",icon:"icon-xiazai1"},on:{click:t.downloadTpl}},[t._v(t._s(t.$t("batchUpload.downloadTpl"))+" ")])],1)]),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",disabled:t.disableSubmit},on:{click:t.submit}},[t._v(t._s(t.$t("batchUpload.submit")))]),e("el-button",{on:{click:function(e){t.v=!1}}},[t._v(t._s(t.$t("common.cancel")))])],1)])},l=[],i=(a(70560),{components:{},props:{visible:{type:Boolean,default:!1},queryId:{type:[String,Number],default:""},downloadUrl:{type:String,default:"/batch/downloadTpl/"},uploadUrl:{type:String,default:"/batch/import"},maxFileSize:{type:Number,default:10485760},title:{type:String,default:""},param:{type:Object,default:()=>{}},isXls:{type:Boolean,default:!1},isRuleBatch:{type:Boolean,default:!1}},data(){return{uploaded:!1,loading:!1,fileName:"",fileSize:0,fileList:[]}},computed:{v:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t),t||(this.fileList=[])}},supportFormat(){return this.$t("batchUpload.drag3")+" "+(this.isXls?".xls":".xlsx")},action(){return"/api"+this.uploadUrl},isSpecial(){return"/simCard/upload"===this.uploadUrl||"/order/upload"===this.uploadUrl},disableSubmit(){return!this.fileName||this.loading},extraParam(){return this.isSpecial||this.isRuleBatch?{templateId:this.queryId,...this.param}:{queryId:this.queryId,...this.param}},showPreview(){return!this.uploaded&&this.fileName},fileSizeFormat(){return this.fileSize>1048576?(this.fileSize/1024/1024).toFixed(2)+"MB":(this.fileSize/1024).toFixed(2)+"KB"}},methods:{downloadTpl(){window.open(this.downloadUrl+this.queryId,"_self")},handlerProgress(t,e,a){this.loading=!0,this.fileName=e.name,this.fileSize=e.size},handlerChange(t,e){console.log("handlerChange",t,e),e.length>1&&e.splice(0,1),this.uploaded||(this.fileName=t.name,this.fileSize=t.size)},handleRemove(t,e){this.resetUpload()},handlerSuccess(t,e,a){if(t.data&&t.data.length>0)return void this.errAlert(t.data);if("0"!=t.code&&t.message)return void this.errAlert(t.message);this.uploaded=!0;const s=setTimeout((()=>{this.loading=!1,clearTimeout(s)}),200);if(this.isSpecial)this.$message.success(this.$t("batchUpload.subtmitSuccess")),this.uploaded=!1,this.v=!1;else{const t=this,e=this.$createElement;this.$msgbox({title:this.$t("batchUpload.subtmitSuccess"),type:"success",center:!0,message:e("p",{class:"fs12"},[this.$t(this.isRuleBatch?"batchUpload.task2":"batchUpload.task"),e("a",{class:"cor-blue",on:{click:t.viewProgress}},this.$t("batchUpload.process"))]),showCancelButton:!1,confirmButtonText:this.$t("batchUpload.know")}).then((()=>{this.uploaded=!1,this.v=!1})).catch((()=>{}))}},resetUpload(){this.$refs.upload.clearFiles(),this.uploaded=!1,this.fileName="",this.fileSize=0},showErrMsg(t){this.$msgbox({title:this.$t("batchUpload.subtmitFail"),type:"warning",center:!0,message:t,showCancelButton:!1,confirmButtonText:this.$t("batchUpload.know")})},handlerError(t){const e=setTimeout((()=>{this.loading=!1,clearTimeout(e)}),200);let a=this.$t("batchUpload.systemError");if(t.message){const e=JSON.parse(t.message);e&&e.message&&(a+="，"+e.message)}this.showErrMsg(a),this.$nextTick(this.resetUpload)},errAlert(t){this.$nextTick(this.resetUpload);const e=setTimeout((()=>{this.loading=!1,clearTimeout(e)}),200),a=this.$createElement,s=a("div",{class:"error-msg-box"},[...function(){const e=[];return t.forEach((t=>{e.push(a("p",{class:"cor-red"},t))})),e}()]);this.showErrMsg(s)},toReload(){this.resetUpload()},submit(){this.$refs.upload.submit()},beforeUpload(t){if(this.fileSize>this.maxFileSize){let t="";return t=this.maxFileSize>1048576?this.maxFileSize/1024/1024+"MB":this.maxFileSize/1024+"KB",this.$message.error(this.$t("batchUpload.fileSize")+t),!1}return"application/vnd.ms-excel"===t.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type||(this.$message.error(this.$t("batchUpload.fileType")),!1)},viewProgress(){this.uploaded=!1,this.v=!1,this.$msgbox.close(),this.isRuleBatch?this.$router.push({path:"/order/orderBatch",query:{activeTab:"2"}}):this.$router.push("/common/download")}}}),o=i,r=a(43736),n=(0,r.Z)(o,s,l,!1,null,"79240383",null),c=n.exports},13090:function(t,e,a){a.r(e),a.d(e,{default:function(){return T}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"container-top"},[e("div",{staticClass:"seperator-line"}),e("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("el-tab-pane",{attrs:{label:t.$t("dataUsage.offerUsage"),name:"1"}},[e("PackageUsage")],1),e("el-tab-pane",{attrs:{label:t.$t("dataUsage.custUsage"),name:"2"}},[e("TotalUsage")],1)],1)],1)])},l=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"container-form"},[e("el-form",{ref:"qryParamRef",attrs:{model:t.qryParam,size:"small"}},[e("div",{staticClass:"row-container"},[e("div",{staticClass:"left-row"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"ICCID",prop:"iccid"}},[e("el-input",{attrs:{placeholder:t.inputPh("ICCID"),maxlength:"20"},model:{value:t.qryParam.iccid,callback:function(e){t.$set(t.qryParam,"iccid",e)},expression:"qryParam.iccid"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"MSISDN",prop:"msisdn"}},[e("el-input",{attrs:{placeholder:t.inputPh("MSISDN"),maxlength:"20"},model:{value:t.qryParam.msisdn,callback:function(e){t.$set(t.qryParam,"msisdn",e)},expression:"qryParam.msisdn"}},[e("ct-async-select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",url:"/user/areaCodeList",placeholder:t.$t("accountMag.areaCode"),method:"get",strkv:""},slot:"prepend",model:{value:t.qryParam.areaCode,callback:function(e){t.$set(t.qryParam,"areaCode",e)},expression:"qryParam.areaCode"}})],1)],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"IMSI",prop:"imsi"}},[e("el-input",{attrs:{placeholder:t.inputPh("IMSI")},model:{value:t.qryParam.imsi,callback:function(e){t.$set(t.qryParam,"imsi",e)},expression:"qryParam.imsi"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:t.$t("dataUsage.billCycle"),prop:"billCycle"}},[e("BillCycleSelect",{model:{value:t.qryParam.billCycle,callback:function(e){t.$set(t.qryParam,"billCycle",e)},expression:"qryParam.billCycle"}})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.powerSearch,expression:"powerSearch"}],staticClass:"more-query-group"},[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:t.$t("dataUsage.usageType"),prop:"qryType"}},[e("ct-select",{attrs:{placeholder:t.selectPh("dataUsage.usageType"),options:t.qryTypeOptions},model:{value:t.qryParam.qryType,callback:function(e){t.$set(t.qryParam,"qryType",e)},expression:"qryParam.qryType"}})],1)],1)],1)],1)],1),e("div",{staticClass:"right-row"},[e("el-form-item",[e("div",{staticClass:"search-button-group"},[e("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{click:function(e){return t.querySimCardListForPage(!1)}}},[t._v(t._s(t.$t("common.query"))+" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){t.showUpload=!0}}},[t._v(t._s(t.$t("common.batchQuery")))])],1)],1),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.reset}},[t._v(t._s(t.$t("common.reset")))]),e("show-more-button",{model:{value:t.powerSearch,callback:function(e){t.powerSearch=e},expression:"powerSearch"}})],1)])],1)]),e("div",{staticClass:"tool-button-group"},[e("BatchExport",{attrs:{"query-id":2200,params:t.simListExportParam,disabled:0===t.tableData.length}})],1)]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{height:"100%",width:"100%",data:t.tableData,border:!0}},[e("el-table-column",{attrs:{prop:"offerName",label:t.$t("dataUsage.offerName"),"show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"iccid",label:"ICCID","show-overflow-tooltip":"",resizable:"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"msisdn",label:"MSISDN","show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"imsi",label:"IMSI","show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"qryType",label:t.$t("dataUsage.usageType"),formatter:t.formatQueryType,"show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"offerTotalDesc",label:t.$t("dataUsage.totalUsage"),"show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"offerUsageDesc",label:t.$t("dataUsage.usage"),"show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"offerRemainDesc",label:t.$t("dataUsage.remain"),"show-overflow-tooltip":"","min-width":"110"}})],1),e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length>0,expression:"tableData.length > 0"}],attrs:{background:"","current-page":t.page.pageIndex,align:"right","page-sizes":[10,20,50,100],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t.showUpload?e("BatchUpload",{attrs:{visible:t.showUpload,"query-id":2100,"is-xls":!0,param:{custId:t.$store.state.user.user.custId},"max-file-size":10485760,title:t.$t("dataUsage.batchTitle1")},on:{"update:visible":function(e){t.showUpload=e}},scopedSlots:t._u([{key:"tip",fn:function(){return[t._v(" 1、"+t._s(t.$t("batchUpload.uploadTip1xls"))),e("br"),t._v(" 2、"+t._s(t.$t("batchUpload.uploadTip2"))),e("br"),t._v(" 3、"+t._s(t.$t("batchUpload.uploadTip3"))),e("br"),t._v(" 4、"+t._s(t.$t("batchUpload.uploadTip4Max10000"))+" ")]},proxy:!0}],null,!1,3732707644)}):t._e()],1)},o=[],r=(a(70560),a(41090)),n=a(45101),c=a(71602),p=a.n(c),d=a(51122),h=a(74597);const u={iccid:"",areaCode:"",msisdn:"",imsi:"",billCycle:p()(new Date).format("YYYYMM"),qryType:"3"};var m={components:{BatchUpload:d.Z,BatchExport:h.Z},mixins:[r.Z],data(){return{showUpload:!1,powerSearch:!1,loading:!1,page:{pageIndex:1,pageSize:10,total:0},tableData:[],qryParam:{...u}}},computed:{qryTypeOptions(){return[{label:this.$t("dataUsage.data"),value:"3"},{label:this.$t("dataUsage.voice"),value:"1"},{label:this.$t("dataUsage.sms"),value:"2"},{label:this.$t("dataUsage.all"),value:"0"}]},simListExportParam(){const{billCycle:t}=this.qryParam;return{...this.qryParam,msisdn:this.accNum,billMonth:t}},accNum(){const{areaCode:t,msisdn:e}=this.qryParam;return e?t+e:""},isValidate(){const t=this.accNum+this.qryParam.iccid+this.qryParam.imsi;return t.length>0}},methods:{async querySimCardListForPage(t){if(this.isValidate)try{this.loading=!0,t||(this.page.pageIndex=1,this.page.pageSize=10);const e={...this.qryParam,accNum:this.accNum,...this.page},a=await(0,n.Z)("/usageData/queryOfferUsage",e,{method:"post"});this.tableData=a.list||[],this.page.total=a.total,this.loading=!1}catch(e){this.loading=!1}else this.$message.error("Processing failed,ICCID MSISDN or IMSI cannot be empty at the same time")},toDetail(t){this.$router.push({path:"simDetail",query:{msisdn:t}})},handleSizeChange(t){this.page.pageSize=t,this.page.pageIndex=1,this.querySimCardListForPage(!0)},handleCurrentChange(t){this.page.pageIndex=t,this.querySimCardListForPage(!0)},reset(){this.qryParam={...u},this.page={pageIndex:1,pageSize:10,total:0},this.tableData=[]},formatQueryType(t,e){const a=this.qryTypeOptions.find((e=>e.value===t.qryType));return a?a.label:"未知"}}},b=m,g=a(43736),f=(0,g.Z)(b,i,o,!1,null,"ff45725a",null),y=f.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"container-form"},[e("el-form",{ref:"qryParamRef",attrs:{model:t.qryParam,size:"small"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:5}},[e("el-form-item",{attrs:{label:"ICCID",prop:"iccid"}},[e("el-input",{attrs:{placeholder:t.inputPh("ICCID"),maxlength:"20"},model:{value:t.qryParam.iccid,callback:function(e){t.$set(t.qryParam,"iccid",e)},expression:"qryParam.iccid"}})],1)],1),e("el-col",{attrs:{span:5}},[e("el-form-item",{attrs:{label:"MSISDN",prop:"msisdn"}},[e("el-input",{attrs:{placeholder:t.inputPh("MSISDN"),maxlength:"20"},model:{value:t.qryParam.msisdn,callback:function(e){t.$set(t.qryParam,"msisdn",e)},expression:"qryParam.msisdn"}},[e("ct-async-select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",url:"/user/areaCodeList",placeholder:t.$t("accountMag.areaCode"),method:"get",strkv:""},slot:"prepend",model:{value:t.qryParam.areaCode,callback:function(e){t.$set(t.qryParam,"areaCode",e)},expression:"qryParam.areaCode"}})],1)],1)],1),e("el-col",{attrs:{span:5}},[e("el-form-item",{attrs:{label:"IMSI",prop:"imsi"}},[e("el-input",{attrs:{placeholder:t.inputPh("IMSI")},model:{value:t.qryParam.imsi,callback:function(e){t.$set(t.qryParam,"imsi",e)},expression:"qryParam.imsi"}})],1)],1),e("el-col",{attrs:{span:5}},[e("el-form-item",{attrs:{label:t.$t("dataUsage.billCycle"),prop:"billCycle"}},[e("BillCycleSelect",{model:{value:t.qryParam.billCycle,callback:function(e){t.$set(t.qryParam,"billCycle",e)},expression:"qryParam.billCycle"}})],1)],1),e("el-col",{attrs:{span:4}},[e("el-form-item",[e("div",{staticClass:"search-button-group"},[e("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{click:function(e){return t.querySimCardListForPage(!1)}}},[t._v(t._s(t.$t("common.query"))+" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){t.showUpload=!0}}},[t._v(t._s(t.$t("common.batchQuery")))])],1)],1),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.reset}},[t._v(t._s(t.$t("common.reset")))])],1)])],1)],1),e("div",{staticClass:"tool-button-group"},[e("el-form-item",{attrs:{"label-width":"0"}}),e("BatchExport",{attrs:{"query-id":2400,params:t.simListExportParam,disabled:0===t.tableData.length}})],1)],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{height:"100%",width:"100%",data:t.tableData,border:!0}},[e("el-table-column",{attrs:{prop:"iccid",label:"ICCID","show-overflow-tooltip":"",resizable:"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"msisdn",label:"MSISDN","show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"simStatus",label:t.$t("simMag.simStatus"),"show-overflow-tooltip":"","min-width":"110",formatter:t.rowFormatter}}),e("el-table-column",{attrs:{prop:"billMonth",label:t.$t("dataUsage.billCycle"),"show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"flowMbDesc",label:t.$t("dataUsage.flowMbDesc"),"show-overflow-tooltip":"","min-width":"140"}}),e("el-table-column",{attrs:{prop:"voiceMinuDesc",label:t.$t("dataUsage.voiceMinsDesc"),"show-overflow-tooltip":"","min-width":"110"}}),e("el-table-column",{attrs:{prop:"smsDesc",label:t.$t("dataUsage.smsDesc"),"show-overflow-tooltip":"","min-width":"110"}})],1)],1),t.showUpload?e("BatchUpload",{attrs:{visible:t.showUpload,"query-id":2300,"is-xls":!0,param:{custId:t.$store.state.user.user.custId},"max-file-size":10485760,title:t.$t("dataUsage.batchTitle2")},on:{"update:visible":function(e){t.showUpload=e}},scopedSlots:t._u([{key:"tip",fn:function(){return[t._v(" 1、"+t._s(t.$t("batchUpload.uploadTip1xls"))),e("br"),t._v(" 2、"+t._s(t.$t("batchUpload.uploadTip2"))),e("br"),t._v(" 3、"+t._s(t.$t("batchUpload.uploadTip3"))),e("br"),t._v(" 4、"+t._s(t.$t("batchUpload.uploadTotal6Month"))),e("br"),t._v(" 5、"+t._s(t.$t("batchUpload.uploadTotal3Row"))),e("br"),t._v(" 6、"+t._s(t.$t("batchUpload.uploadTotal1Col"))),e("br"),t._v(" 7、"+t._s(t.$t("batchUpload.uploadTip4Max10000"))+" ")]},proxy:!0}],null,!1,4016492901)}):t._e()],1)},w=[],x=a(48076);const C={iccid:"",areaCode:"",msisdn:"",imsi:"",billCycle:p()(new Date).format("YYYYMM"),qryType:"3"};var $={components:{BatchUpload:d.Z,BatchExport:h.Z},mixins:[r.Z],data(){return{showUpload:!1,channelIdOptions:[],powerSearch:!1,loading:!1,page:{pageIndex:1,pageSize:10,total:0},tableData:[],qryParam:{...C}}},computed:{simListExportParam(){const{billCycle:t}=this.qryParam;return{...this.qryParam,msisdn:this.accNum,billMonth:t}},statusOptions(){return x.hm.map((t=>({...t,label:this.$t("simMag."+t.key)})))},accNum(){const{areaCode:t,msisdn:e}=this.qryParam;return e?t+e:""},isValidate(){const t=this.accNum+this.qryParam.iccid+this.qryParam.imsi;return t.length>0}},methods:{async querySimCardListForPage(t){if(this.isValidate)try{this.loading=!0,t||(this.page.pageIndex=1,this.page.pageSize=10);const e={...this.qryParam,accNum:this.accNum,...this.page},a=await(0,n.Z)("/usageData/queryUserUsage",e,{method:"post"});this.tableData=a?[a]:[],this.page.total=a.total,this.loading=!1}catch(e){this.loading=!1}else this.$message.error("Processing failed,ICCID MSISDN or IMSI cannot be empty at the same time")},rowFormatter(t,e,a){if("simStatus"===e.property){const t=this.statusOptions.find((t=>t.value===a));return t?this.$t("simMag."+t.key):a}if("appProdInstDto.addressName"===e.property)return"zh"===this.$i18n.locale?t.appProdInstDto.addressName:t.appProdInstDto.addressNameEn},handleSizeChange(t){this.page.pageSize=t,this.page.pageIndex=1,this.querySimCardListForPage(!0)},handleCurrentChange(t){this.page.pageIndex=t,this.querySimCardListForPage(!0)},reset(){this.qryParam={...C},this.page={pageIndex:1,pageSize:10,total:0},this.tableData=[]}}},U=$,S=(0,g.Z)(U,v,w,!1,null,"44749aeb",null),q=S.exports,P={components:{PackageUsage:y,TotalUsage:q},data(){return{activeTab:"1"}}},_=P,I=(0,g.Z)(_,s,l,!1,null,"059531e2",null),T=I.exports},48076:function(t,e,a){a.d(e,{HW:function(){return i},P4:function(){return l},hm:function(){return s}});const s=[{value:"100000",label:"在用",key:"use"},{value:"120000",label:"停机",key:"stop"},{value:"140002",label:"未激活",key:"unactivated"}],l="121215042193",i="160605376671"}}]);
//# sourceMappingURL=90.c5f3567e.js.map