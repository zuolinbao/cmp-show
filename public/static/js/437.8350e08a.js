"use strict";(self["webpackChunkcmp"]=self["webpackChunkcmp"]||[]).push([[437],{39437:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"container-content"},[a("div",{staticClass:"summary"},t._l(t.infoList,(function(e){return a("div",{key:e.prop,staticClass:"summary-item"},[a("div",{staticClass:"summary-item-content"},[a("div",{staticClass:"summary-item-title"},[t._v(t._s(e.label))]),a("div",{staticClass:"summary-item-used"},[t._v(" "+t._s(t.itemInfoFormatter(e))+" ")])])])})),0),a("div",{staticClass:"container-bottom"},[a("div",{staticClass:"container-form"},[a("el-form",{ref:"qryParamRef",attrs:{model:t.qryParam,size:"small"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:t.$t("traffic.accessNum"),prop:"accNum"}},[a("el-input",{attrs:{placeholder:t.inputPh("traffic.accessNum")},model:{value:t.qryParam.accNum,callback:function(a){t.$set(t.qryParam,"accNum",a)},expression:"qryParam.accNum"}})],1)],1),a("el-col",{attrs:{span:19}},[a("el-form-item",[a("div",{staticClass:"search-button-group"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){return t.loadData(!1)}}},[t._v(t._s(t.$t("common.query")))]),a("el-button",{attrs:{type:"info",icon:"el-icon-refresh"},on:{click:t.reset}},[t._v(t._s(t.$t("common.reset")))])],1)])],1)],1),a("div",{staticClass:"tool-button-group"},[a("BatchExport",{attrs:{"query-id":"xxxx",params:t.simListExportParam,disabled:0===t.tableData.length}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{data:t.tableData,border:!0}},[a("el-table-column",{attrs:{prop:"iccid",label:t.$t("traffic.memberNumber"),"show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"statusCd",label:t.$t("traffic.statusCdName"),"show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"statusCdDesc",label:t.$t("traffic.memberSize"),"show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"statusDate",label:t.$t("traffic.usedSize"),"show-overflow-tooltip":""}})],1),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length>0,expression:"tableData.length > 0"}],attrs:{background:"","current-page":t.page.pageIndex,align:"right","page-sizes":[10,20,50,100],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])},i=[],r=e(23060),o={mixins:[r.Z],data(){return{importTaskId:"",tableData:[],loading:!1,page:{pageIndex:1,pageSize:10,total:0},detailInfo:{},gryInitsimStatusRes:[],activeTab:"1",qryParam:{accNum:"",batchListStatus:""}}},computed:{simListExportParam(){return{...this.qryParam,grpNumber:this.grpNumber}},infoList(){return[{label:this.$t("traffic.groupId"),prop:"importTaskId"},{label:this.$t("traffic.billCycle"),prop:"statusCdDesc"},{label:this.$t("traffic.usageAvaMonth"),prop:"supplierDesc"},{label:this.$t("traffic.usageUsedMonth"),prop:"ispDesc"},{label:this.$t("traffic.usageRemainMonth"),prop:"custName"}]}},created(){this.importTaskId=this.$route.query.importTaskId},mounted(){},methods:{async gryInitsimStatus(){this.gryInitsimStatusRes=await this.$api.mktImportTask.qryInitSimStatus()},qryMktImportTaskDetail(){const t={importTaskId:this.importTaskId};this.$api.mktImportTask.qryMktImportTaskDetail(t).then((t=>{this.detailInfo=t})).finally((()=>{this.loading=!1}))},loadData(t){t||(this.page.pageIndex=1,this.page.pageSize=10);const a={batchTaskId:this.importTaskId,...this.qryParam,...this.page};this.loading=!0,this.$api.mktImportTask.qryMktBatchTaskList(a).then((t=>{this.tableData=t.list||[],this.page.total=t.total})).finally((()=>{this.loading=!1}))},itemInfoFormatter(t){const a=t.formatter?t.formatter(this.detailInfo[t.prop]??"-"):this.detailInfo[t.prop]??"-";return a},handleSizeChange(t){this.page.pageSize=t,this.page.pageIndex=1,this.loadData(!0)},handleCurrentChange(t){this.page.pageIndex=t,this.loadData(!0)},exportClick(){},reset(){this.$refs.qryParamRef.resetFields(),this.loadData(!1)}}},l=o,n=e(1001),c=(0,n.Z)(l,s,i,!1,null,"75ff3fcc",null),p=c.exports}}]);
//# sourceMappingURL=437.8350e08a.js.map